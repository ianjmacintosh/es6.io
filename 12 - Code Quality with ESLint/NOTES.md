## Module 12: Code Quality with ESLint
### Preface
I have a whole ton of thoughts on ESLint which can be summarized as: it's great, everyone should use it, especially if they're working as part of a team. I've advocated for it strongly in teams I've been a part of, and encouraged the leads for teams under my supervision to use it. I go so far as to say that if someone's making a "nitpick" comment on a PR, if there's no linter rule that describes it, you should not be commenting on it. If there is no rule yet for it but you think there should be one, open a PR about it to introduce it. If you want to change the coding standards, a PR with your proposed change needs to be part of it -- preferably along with an in-person conversation in a team meeting. Standup doesn't count. I'm more than happy to expand on my thoughts on ESLint, but I'm going to intentionally focus my notes here _just_ on what Wes covers in this course.
### Getting Started with ESLint
ESLint is a code quality tool that performs static analysis of your code to help you to avoid doing things you shouldn't. The first thing you'll need to do to start using ESLint is install it from your command line, using `npm install eslint -g` [Aside: I personally disagree with advice to `sudo` this command -- it's easy enough to add a directory to your path that you can modify without elevated privileges. I believe either Mathias Bynens or Sindre Sorhus has a brief gist about how to do it]
After you've got ESLint installed, you can pass it your files to critique, but you will need to configure your settings -- or basically come up with a list of the rules you want to adhere to, which you will store in an `.eslintrc` file. Rules will be handled with one of three options: ignore, warn, or error -- which you can decide.
### Airbnb ESLint Settings
The Airbnb style guide for JS is fairly popular, and can help you to write consistent ES6 across your codebase. What many people do is start from that and then put their own rules in place on top of them for where their own style differs from the Airbnb standard. But in order to use those settings, you'll need to `npm install` the airbnb plugin, along with its peer dependencies.
While having an `.eslintrc` file for each project is handy for where different teams you work with have different styles, you can also have a global ESLint config, stored at `~/.eslintrc`. But don't forget your local `.eslintrc` will overrule it when it's available in your project.
### Line and File Specific Settings
If you're doing something in a file that you know you want to/must do, you can add a rule to your file to stifle warnings about it. For instance, if you're using `ga.track()` for Google Analytics, and ESLint is complaining you haven't defined it, you could add it as a local global by writing out `/* globals ga */` at the top of your file.
Or another example is if you're including someone else's code like a polyfill into your code. Rather than modify your third party's code (and risk breaking it) you can wrap that block in `/* eslint-disable */` ... `/* eslint-enable */`. You can do that for just one line or an entire block -- it's up to you.
### ESLint Plugins
If you wanted to allow ESLint to lint HTML files that you're working on that have internal script blocks, you can do that by using a plugin named `eslint-plugin-html`. Install it globally, add your plugin to your plugins array in your `.eslintrc`, and you can now run `eslint` against HTML files. Same for if you've got markdown files that include JS, you can install a markdown plugin that will allow you to lint your JS in Markdown.
### ESLint inside Atom and Sublime Text
I don't personally use Atom or Sublime Text, but I've worked with developers using both to get them up and running with ESLint for their editor. Typically it just involves focusing, reading the configuration steps, and confirming they actually have ESLint itself configured properly on their system to run from the command line. Skipping this video.
### Only Allow ESLint Passing Code into your git repos
I started to follow along with Wes on this tutorial, but right out of the gate I ran into issues because I do not have a `~/.eslintrc` file. So I had to `eslint --init` which balked because I needed to `npm --init` which balked because it automatically named the project after my directory which I called `eslint`. Then I ran into an error because I don't have `eslint-config-airbnb-base` installed globally yet I'm using that as my basis for rules in this project, but I'm running eslint from the global installation, not locally (where I think I did install that plugin). In other words, eslint doesn't have access to the plugin I told it to use, because it installed that plugin locally. At this point, I'm just gonna watch the video instead of playing along and doing it locally.
What I learned from watching the video is that when working on a project where code quality matters (honestly, this should be every project), you can force code to meet your ESLint standards by using a git pre-commit hook. This will prevent code that does not meet your standards from even getting committed to your project. Wes includes a gist that has his pre-commit hook, but this seems just barely out-of-scope for an ES6 course. I can appreciate that ESLint is a great thing to be aware of and familiar with, especially since it's industry-standard tooling nowadays (2020) but the pre-commit hook thing is a little thorny since (I know, I know, Wes didn't go over this and I said I wouldn't focus the scope of my notes) pre-commit hooks go in your .git directory, and that folder is _not versioned_. You will need to do _something_ a little strange and outside the normal scope of git usage to confirm everyone on your team has the git hook. And in my experience, the engineers who are most likely to introduce "bad code" are the least likely to properly set up a pre-commit hook.